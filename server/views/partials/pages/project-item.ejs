<%
const {description, image, languages, name, repository, demo_url, tags} = data.item;
const itemTitle = data.item.title;
const repositoryUrl = typeof repository !== 'undefined' && repository
const demoUrl = typeof demo_url !== 'undefined' && demo_url
%>

<%- include('../components/lightbox', {image: image.large, title: itemTitle, modalId: 'lightbox'}) %>

<div class="py-5 gx-0">
  <div class="container">
    <%- include('../components/header', {title: itemTitle, parent: 'projects'}) %>
    <div class="row pb-5 fs-5">
      <div>
        <% languages.forEach(function(el) { %>
        <span class="badge bg-primary">
          <%= el %>
        </span>
        <% }); %>
        <% tags.forEach(function(el) { %>
        <span class="badge bg-secondary">
          <%= el %>
        </span>
        <% }); %>
      </div>
    </div>
    <div class="row rounded overflow-hidden gx-5 m-0" style="background-color: rgba(0, 0, 0, 0.3);">
      <div class="col-4 py-4">
        <h3 class="fs-6">Description</h3>
        <p><%- description %></p>
      </div>
      <div class="d-flex col-8 p-4 position-relative justify-content-center" style="background-color: rgb(0, 0, 0);">
        <div role="button" aria-haspopup="dialog" data-bs-toggle="modal" data-bs-target="#lightbox">
          <img src="<%= image.medium %>" alt="<%= title %>">
        </div>
      </div>
    </div>
    <% if(repositoryUrl || demoUrl) { %>
    <div class="my-5">
      <h3 class="fs-4 mb-4">Links</h3>
      <% if (repositoryUrl) { %>
      <a class="btn btn-secondary" href="<%= repositoryUrl %>" target="_blank">Source code on Github</a>
      <% } %>
      <% if (demoUrl) { %>
        <a class="btn btn-secondary" href="<%= demoUrl %>" target="_blank">Run this app</a>
        <% } %>
    </div>
    <% } %>
  </div>
</div>
